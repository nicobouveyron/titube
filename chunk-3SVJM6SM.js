import{b as B2}from"./chunk-BHLRCM6T.js";import{Da as v1,Ib as D2,Ja as y1,Lb as F2,Ma as V2,Na as L2,Oa as P2,Pa as T2,Rb as R2,Sa as B1,X as x,Z as I,_ as F1,a as h1,aa as S2,b as q2,c as C2,ca as u1,ea as z2,ga as A2,ha as R1,nb as _2,oa as H2,ob as E2,xa as j2}from"./chunk-FNSXWPPW.js";var ue=["*"];var a0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]];var h0=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]];var y0=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]];var r0=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var i0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]];var n0=[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]];var n1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},O1=new S2("LucideIcons",{factory:()=>new s1({})}),s1=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},ve=(()=>{class y{constructor(){this.color=n1.stroke,this.size=n1.width,this.strokeWidth=n1["stroke-width"],this.absoluteStrokeWidth=!1}}return y.\u0275fac=function(t){return new(t||y)},y.\u0275prov=I({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function ge(y,e=3){return parseFloat(y.toFixed(e)).toString(10)}var s0=(()=>{class y{constructor(t,a,h,r,i){this.elem=t,this.renderer=a,this.changeDetector=h,this.iconProviders=r,this.iconConfig=i,this.absoluteStrokeWidth=!1,this.defaultSize=n1.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let a=this.img??this.name;if(typeof a=="string"){let h=this.getIcon(this.toPascalCase(a));if(h)this.replaceElement(h);else throw new Error(`The "${a}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(a))this.replaceElement(a);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let a=q2(h1({},n1),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?ge(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),h=this.createElement(["svg",a,t]);h.classList.add("lucide"),typeof this.name=="string"&&h.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&h.classList.add(...this.class.split(/ /).map(i=>i.trim()).filter(i=>i.length>0));let r=this.elem.nativeElement.childNodes;for(let i of r)this.renderer.removeChild(this.elem.nativeElement,i);this.renderer.appendChild(this.elem.nativeElement,h)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(a,h,r)=>h.toUpperCase()+r.toLowerCase())}parseNumber(t){if(typeof t=="string"){let a=parseInt(t,10);if(isNaN(a))throw new Error(`${t} is not numeric.`);return a}return t}getIcon(t){for(let a of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(a.hasIcon(t))return a.getIcon(t);return null}createElement([t,a,h=[]]){let r=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(a).forEach(i=>{let n=typeof a[i]=="string"?a[i]:a[i].toString(10);this.renderer.setAttribute(r,i,n)}),h.length&&h.forEach(i=>{let n=this.createElement(i);this.renderer.appendChild(r,n)}),r}}return y.\u0275fac=function(t){return new(t||y)(y1(j2),y1(L2),y1(D2),y1(O1),y1(ve))},y.\u0275cmp=A2({type:y,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},features:[H2],ngContentSelectors:ue,decls:1,vars:0,template:function(t,a){t&1&&(_2(),E2(0))},encapsulation:2}),y})(),N1=class{constructor(e){this.icons=e}},fe=y=>new s1(y??{}),d0=(()=>{class y{static pick(t){return{ngModule:y,providers:[{provide:O1,multi:!0,useValue:new s1(t)},{provide:O1,multi:!0,useFactory:fe,deps:[[new z2,N1]]}]}}}return y.\u0275fac=function(t){return new(t||y)},y.\u0275mod=R1({type:y}),y.\u0275inj=F1({imports:[[]]}),y})();var l0=(()=>{class y{constructor(){this.loadingCounter=B1(0),this.defaultMessage="Chargement...",this.message=B1(this.defaultMessage),this.isLoading$=F2(()=>this.loadingCounter()>0)}show(t){this.loadingCounter.update(a=>a+1),t&&this.message.set(t)}hide(){this.loadingCounter.update(t=>Math.max(0,t-1)),this.loadingCounter()===0&&this.message.set(this.defaultMessage)}reset(){this.loadingCounter.set(0),this.message.set(this.defaultMessage)}static{this.\u0275fac=function(a){return new(a||y)}}static{this.\u0275prov=I({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})();var u=function(y){return y[y.State=0]="State",y[y.Transition=1]="Transition",y[y.Sequence=2]="Sequence",y[y.Group=3]="Group",y[y.Animate=4]="Animate",y[y.Keyframes=5]="Keyframes",y[y.Style=6]="Style",y[y.Trigger=7]="Trigger",y[y.Reference=8]="Reference",y[y.AnimateChild=9]="AnimateChild",y[y.AnimateRef=10]="AnimateRef",y[y.Query=11]="Query",y[y.Stagger=12]="Stagger",y}(u||{}),B="*";function m0(y,e){return{type:u.Trigger,name:y,definitions:e,options:{}}}function u0(y,e=null){return{type:u.Animate,styles:e,timings:y}}function v0(y,e=null){return{type:u.Group,steps:y,options:e}}function O2(y,e=null){return{type:u.Sequence,steps:y,options:e}}function I1(y){return{type:u.Style,styles:y,offset:null}}function g0(y,e,t=null){return{type:u.Transition,expr:y,animation:e,options:t}}function f0(y,e,t=null){return{type:u.Query,selector:y,animation:e,options:t}}var U=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(a=>a()),t.length=0}},d1=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,a=0,h=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(i=>{i.onDone(()=>{++t==r&&this._onFinish()}),i.onDestroy(()=>{++a==r&&this._onDestroy()}),i.onStart(()=>{++h==r&&this._onStart()})}),this.totalTime=this.players.reduce((i,n)=>Math.max(i,n.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(a=>{let h=a.totalTime?Math.min(1,t/a.totalTime):1;a.setPosition(h)})}getPosition(){let e=this.players.reduce((t,a)=>t===null||a.totalTime>t.totalTime?a:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(a=>a()),t.length=0}},g1="!";function N2(y){return new x(3e3,!1)}function xe(){return new x(3100,!1)}function we(){return new x(3101,!1)}function be(y){return new x(3001,!1)}function qe(y){return new x(3003,!1)}function Ce(y){return new x(3004,!1)}function Se(y,e){return new x(3005,!1)}function ze(){return new x(3006,!1)}function Ae(){return new x(3007,!1)}function He(y,e){return new x(3008,!1)}function je(y){return new x(3002,!1)}function Ve(y,e,t,a,h){return new x(3010,!1)}function Le(){return new x(3011,!1)}function Pe(){return new x(3012,!1)}function Te(){return new x(3200,!1)}function _e(){return new x(3202,!1)}function Ee(){return new x(3013,!1)}function De(y){return new x(3014,!1)}function Fe(y){return new x(3015,!1)}function Re(y){return new x(3016,!1)}function Be(y,e){return new x(3404,!1)}function Oe(y){return new x(3502,!1)}function Ne(y){return new x(3503,!1)}function Ze(){return new x(3300,!1)}function Ie(y){return new x(3504,!1)}function Ue(y){return new x(3301,!1)}function We(y,e){return new x(3302,!1)}function Ge(y){return new x(3303,!1)}function Ke(y,e){return new x(3400,!1)}function Qe(y){return new x(3401,!1)}function Xe(y){return new x(3402,!1)}function $e(y,e){return new x(3505,!1)}function W(y){switch(y.length){case 0:return new U;case 1:return y[0];default:return new d1(y)}}function ae(y,e,t=new Map,a=new Map){let h=[],r=[],i=-1,n=null;if(e.forEach(s=>{let d=s.get("offset"),c=d==i,o=c&&n||new Map;s.forEach((g,v)=>{let k=v,m=g;if(v!=="offset")switch(k=y.normalizePropertyName(k,h),m){case g1:m=t.get(v);break;case B:m=a.get(v);break;default:m=y.normalizeStyleValue(v,k,m,h);break}o.set(k,m)}),c||r.push(o),n=o,i=d}),h.length)throw Oe(h);return r}function k2(y,e,t,a){switch(e){case"start":y.onStart(()=>a(t&&U1(t,"start",y)));break;case"done":y.onDone(()=>a(t&&U1(t,"done",y)));break;case"destroy":y.onDestroy(()=>a(t&&U1(t,"destroy",y)));break}}function U1(y,e,t){let a=t.totalTime,h=!!t.disabled,r=l2(y.element,y.triggerName,y.fromState,y.toState,e||y.phaseName,a??y.totalTime,h),i=y._data;return i!=null&&(r._data=i),r}function l2(y,e,t,a,h="",r=0,i){return{element:y,triggerName:e,fromState:t,toState:a,phaseName:h,totalTime:r,disabled:!!i}}function T(y,e,t){let a=y.get(e);return a||y.set(e,a=t),a}function Z2(y){let e=y.indexOf(":"),t=y.substring(1,e),a=y.slice(e+1);return[t,a]}var Je=typeof document>"u"?null:document.documentElement;function M2(y){let e=y.parentNode||y.host||null;return e===Je?null:e}function Ye(y){return y.substring(1,6)=="ebkit"}var X=null,I2=!1;function et(y){X||(X=tt()||{},I2=X.style?"WebkitAppearance"in X.style:!1);let e=!0;return X.style&&!Ye(y)&&(e=y in X.style,!e&&I2&&(e="Webkit"+y.charAt(0).toUpperCase()+y.slice(1)in X.style)),e}function tt(){return typeof document<"u"?document.body:null}function he(y,e){for(;e;){if(e===y)return!0;e=M2(e)}return!1}function ye(y,e,t){if(t)return Array.from(y.querySelectorAll(e));let a=y.querySelector(e);return a?[a]:[]}var m2=(()=>{class y{validateStyleProperty(t){return et(t)}containsElement(t,a){return he(t,a)}getParentElement(t){return M2(t)}query(t,a,h){return ye(t,a,h)}computeStyle(t,a,h){return h||""}animate(t,a,h,r,i,n=[],s){return new U(h,r)}static{this.\u0275fac=function(a){return new(a||y)}}static{this.\u0275prov=I({token:y,factory:y.\u0275fac})}}return y})(),Y=class{static{this.NOOP=new m2}},e1=class{};var at=1e3,re="{{",ht="}}",ie="ng-enter",$1="ng-leave",f1="ng-trigger",C1=".ng-trigger",U2="ng-animating",J1=".ng-animating";function N(y){if(typeof y=="number")return y;let e=y.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Y1(parseFloat(e[1]),e[2])}function Y1(y,e){switch(e){case"s":return y*at;default:return y}}function S1(y,e,t){return y.hasOwnProperty("duration")?y:yt(y,e,t)}function yt(y,e,t){let a=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,h,r=0,i="";if(typeof y=="string"){let n=y.match(a);if(n===null)return e.push(N2(y)),{duration:0,delay:0,easing:""};h=Y1(parseFloat(n[1]),n[2]);let s=n[3];s!=null&&(r=Y1(parseFloat(s),n[4]));let d=n[5];d&&(i=d)}else h=y;if(!t){let n=!1,s=e.length;h<0&&(e.push(xe()),n=!0),r<0&&(e.push(we()),n=!0),n&&e.splice(s,0,N2(y))}return{duration:h,delay:r,easing:i}}function rt(y){return y.length?y[0]instanceof Map?y:y.map(e=>new Map(Object.entries(e))):[]}function O(y,e,t){e.forEach((a,h)=>{let r=u2(h);t&&!t.has(h)&&t.set(h,y.style[r]),y.style[r]=a})}function J(y,e){e.forEach((t,a)=>{let h=u2(a);y.style[h]=""})}function o1(y){return Array.isArray(y)?y.length==1?y[0]:O2(y):y}function it(y,e,t){let a=e.params||{},h=ne(y);h.length&&h.forEach(r=>{a.hasOwnProperty(r)||t.push(be(r))})}var e2=new RegExp(`${re}\\s*(.+?)\\s*${ht}`,"g");function ne(y){let e=[];if(typeof y=="string"){let t;for(;t=e2.exec(y);)e.push(t[1]);e2.lastIndex=0}return e}function p1(y,e,t){let a=`${y}`,h=a.replace(e2,(r,i)=>{let n=e[i];return n==null&&(t.push(qe(i)),n=""),n.toString()});return h==a?y:h}var nt=/-+([a-z0-9])/g;function u2(y){return y.replace(nt,(...e)=>e[1].toUpperCase())}function st(y,e){return y===0||e===0}function dt(y,e,t){if(t.size&&e.length){let a=e[0],h=[];if(t.forEach((r,i)=>{a.has(i)||h.push(i),a.set(i,r)}),h.length)for(let r=1;r<e.length;r++){let i=e[r];h.forEach(n=>i.set(n,v2(y,n)))}}return e}function P(y,e,t){switch(e.type){case u.Trigger:return y.visitTrigger(e,t);case u.State:return y.visitState(e,t);case u.Transition:return y.visitTransition(e,t);case u.Sequence:return y.visitSequence(e,t);case u.Group:return y.visitGroup(e,t);case u.Animate:return y.visitAnimate(e,t);case u.Keyframes:return y.visitKeyframes(e,t);case u.Style:return y.visitStyle(e,t);case u.Reference:return y.visitReference(e,t);case u.AnimateChild:return y.visitAnimateChild(e,t);case u.AnimateRef:return y.visitAnimateRef(e,t);case u.Query:return y.visitQuery(e,t);case u.Stagger:return y.visitStagger(e,t);default:throw Ce(e.type)}}function v2(y,e){return window.getComputedStyle(y)[e]}var ot=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),z1=class extends e1{normalizePropertyName(e,t){return u2(e)}normalizeStyleValue(e,t,a,h){let r="",i=a.toString().trim();if(ot.has(t)&&a!==0&&a!=="0")if(typeof a=="number")r="px";else{let n=a.match(/^[+-]?[\d\.]+([a-z]*)$/);n&&n[1].length==0&&h.push(Se(e,a))}return i+r}};var A1="*";function ct(y,e){let t=[];return typeof y=="string"?y.split(/\s*,\s*/).forEach(a=>pt(a,t,e)):t.push(y),t}function pt(y,e,t){if(y[0]==":"){let s=kt(y,t);if(typeof s=="function"){e.push(s);return}y=s}let a=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(a==null||a.length<4)return t.push(Fe(y)),e;let h=a[1],r=a[2],i=a[3];e.push(W2(h,i));let n=h==A1&&i==A1;r[0]=="<"&&!n&&e.push(W2(i,h))}function kt(y,e){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,a)=>parseFloat(a)>parseFloat(t);case":decrement":return(t,a)=>parseFloat(a)<parseFloat(t);default:return e.push(Re(y)),"* => *"}}var x1=new Set(["true","1"]),w1=new Set(["false","0"]);function W2(y,e){let t=x1.has(y)||w1.has(y),a=x1.has(e)||w1.has(e);return(h,r)=>{let i=y==A1||y==h,n=e==A1||e==r;return!i&&t&&typeof h=="boolean"&&(i=h?x1.has(y):w1.has(y)),!n&&a&&typeof r=="boolean"&&(n=r?x1.has(e):w1.has(e)),i&&n}}var se=":self",lt=new RegExp(`s*${se}s*,?`,"g");function de(y,e,t,a){return new t2(y).build(e,t,a)}var G2="",t2=class{constructor(e){this._driver=e}build(e,t,a){let h=new a2(t);return this._resetContextStyleTimingState(h),P(this,o1(e),h)}_resetContextStyleTimingState(e){e.currentQuerySelector=G2,e.collectedStyles=new Map,e.collectedStyles.set(G2,new Map),e.currentTime=0}visitTrigger(e,t){let a=t.queryCount=0,h=t.depCount=0,r=[],i=[];return e.name.charAt(0)=="@"&&t.errors.push(ze()),e.definitions.forEach(n=>{if(this._resetContextStyleTimingState(t),n.type==u.State){let s=n,d=s.name;d.toString().split(/\s*,\s*/).forEach(c=>{s.name=c,r.push(this.visitState(s,t))}),s.name=d}else if(n.type==u.Transition){let s=this.visitTransition(n,t);a+=s.queryCount,h+=s.depCount,i.push(s)}else t.errors.push(Ae())}),{type:u.Trigger,name:e.name,states:r,transitions:i,queryCount:a,depCount:h,options:null}}visitState(e,t){let a=this.visitStyle(e.styles,t),h=e.options&&e.options.params||null;if(a.containsDynamicStyles){let r=new Set,i=h||{};a.styles.forEach(n=>{n instanceof Map&&n.forEach(s=>{ne(s).forEach(d=>{i.hasOwnProperty(d)||r.add(d)})})}),r.size&&t.errors.push(He(e.name,[...r.values()]))}return{type:u.State,name:e.name,style:a,options:h?{params:h}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let a=P(this,o1(e.animation),t),h=ct(e.expr,t.errors);return{type:u.Transition,matchers:h,animation:a,queryCount:t.queryCount,depCount:t.depCount,options:$(e.options)}}visitSequence(e,t){return{type:u.Sequence,steps:e.steps.map(a=>P(this,a,t)),options:$(e.options)}}visitGroup(e,t){let a=t.currentTime,h=0,r=e.steps.map(i=>{t.currentTime=a;let n=P(this,i,t);return h=Math.max(h,t.currentTime),n});return t.currentTime=h,{type:u.Group,steps:r,options:$(e.options)}}visitAnimate(e,t){let a=vt(e.timings,t.errors);t.currentAnimateTimings=a;let h,r=e.styles?e.styles:I1({});if(r.type==u.Keyframes)h=this.visitKeyframes(r,t);else{let i=e.styles,n=!1;if(!i){n=!0;let d={};a.easing&&(d.easing=a.easing),i=I1(d)}t.currentTime+=a.duration+a.delay;let s=this.visitStyle(i,t);s.isEmptyStep=n,h=s}return t.currentAnimateTimings=null,{type:u.Animate,timings:a,style:h,options:null}}visitStyle(e,t){let a=this._makeStyleAst(e,t);return this._validateStyleAst(a,t),a}_makeStyleAst(e,t){let a=[],h=Array.isArray(e.styles)?e.styles:[e.styles];for(let n of h)typeof n=="string"?n===B?a.push(n):t.errors.push(je(n)):a.push(new Map(Object.entries(n)));let r=!1,i=null;return a.forEach(n=>{if(n instanceof Map&&(n.has("easing")&&(i=n.get("easing"),n.delete("easing")),!r)){for(let s of n.values())if(s.toString().indexOf(re)>=0){r=!0;break}}}),{type:u.Style,styles:a,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){let a=t.currentAnimateTimings,h=t.currentTime,r=t.currentTime;a&&r>0&&(r-=a.duration+a.delay),e.styles.forEach(i=>{typeof i!="string"&&i.forEach((n,s)=>{let d=t.collectedStyles.get(t.currentQuerySelector),c=d.get(s),o=!0;c&&(r!=h&&r>=c.startTime&&h<=c.endTime&&(t.errors.push(Ve(s,c.startTime,c.endTime,r,h)),o=!1),r=c.startTime),o&&d.set(s,{startTime:r,endTime:h}),t.options&&it(n,t.options,t.errors)})})}visitKeyframes(e,t){let a={type:u.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Le()),a;let h=1,r=0,i=[],n=!1,s=!1,d=0,c=e.steps.map(q=>{let C=this._makeStyleAst(q,t),H=C.offset!=null?C.offset:ut(C.styles),z=0;return H!=null&&(r++,z=C.offset=H),s=s||z<0||z>1,n=n||z<d,d=z,i.push(z),C});s&&t.errors.push(Pe()),n&&t.errors.push(Te());let o=e.steps.length,g=0;r>0&&r<o?t.errors.push(_e()):r==0&&(g=h/(o-1));let v=o-1,k=t.currentTime,m=t.currentAnimateTimings,w=m.duration;return c.forEach((q,C)=>{let H=g>0?C==v?1:g*C:i[C],z=H*w;t.currentTime=k+m.delay+z,m.duration=z,this._validateStyleAst(q,t),q.offset=H,a.styles.push(q)}),a}visitReference(e,t){return{type:u.Reference,animation:P(this,o1(e.animation),t),options:$(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:u.AnimateChild,options:$(e.options)}}visitAnimateRef(e,t){return{type:u.AnimateRef,animation:this.visitReference(e.animation,t),options:$(e.options)}}visitQuery(e,t){let a=t.currentQuerySelector,h=e.options||{};t.queryCount++,t.currentQuery=e;let[r,i]=Mt(e.selector);t.currentQuerySelector=a.length?a+" "+r:r,T(t.collectedStyles,t.currentQuerySelector,new Map);let n=P(this,o1(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=a,{type:u.Query,selector:r,limit:h.limit||0,optional:!!h.optional,includeSelf:i,animation:n,originalSelector:e.selector,options:$(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(Ee());let a=e.timings==="full"?{duration:0,delay:0,easing:"full"}:S1(e.timings,t.errors,!0);return{type:u.Stagger,animation:P(this,o1(e.animation),t),timings:a,options:null}}};function Mt(y){let e=!!y.split(/\s*,\s*/).find(t=>t==se);return e&&(y=y.replace(lt,"")),y=y.replace(/@\*/g,C1).replace(/@\w+/g,t=>C1+"-"+t.slice(1)).replace(/:animating/g,J1),[y,e]}function mt(y){return y?h1({},y):null}var a2=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function ut(y){if(typeof y=="string")return null;let e=null;if(Array.isArray(y))y.forEach(t=>{if(t instanceof Map&&t.has("offset")){let a=t;e=parseFloat(a.get("offset")),a.delete("offset")}});else if(y instanceof Map&&y.has("offset")){let t=y;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function vt(y,e){if(y.hasOwnProperty("duration"))return y;if(typeof y=="number"){let r=S1(y,e).duration;return W1(r,0,"")}let t=y;if(t.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=W1(0,0,"");return r.dynamic=!0,r.strValue=t,r}let h=S1(t,e);return W1(h.duration,h.delay,h.easing)}function $(y){return y?(y=h1({},y),y.params&&(y.params=mt(y.params))):y={},y}function W1(y,e,t){return{duration:y,delay:e,easing:t}}function g2(y,e,t,a,h,r,i=null,n=!1){return{type:1,element:y,keyframes:e,preStyleProps:t,postStyleProps:a,duration:h,delay:r,totalTime:h+r,easing:i,subTimeline:n}}var k1=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let a=this._map.get(e);a||this._map.set(e,a=[]),a.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},gt=1,ft=":enter",xt=new RegExp(ft,"g"),wt=":leave",bt=new RegExp(wt,"g");function oe(y,e,t,a,h,r=new Map,i=new Map,n,s,d=[]){return new h2().buildKeyframes(y,e,t,a,h,r,i,n,s,d)}var h2=class{buildKeyframes(e,t,a,h,r,i,n,s,d,c=[]){d=d||new k1;let o=new y2(e,t,d,h,r,c,[]);o.options=s;let g=s.delay?N(s.delay):0;o.currentTimeline.delayNextStep(g),o.currentTimeline.setStyles([i],null,o.errors,s),P(this,a,o);let v=o.timelines.filter(k=>k.containsAnimation());if(v.length&&n.size){let k;for(let m=v.length-1;m>=0;m--){let w=v[m];if(w.element===t){k=w;break}}k&&!k.allowOnlyTimelineStyles()&&k.setStyles([n],null,o.errors,s)}return v.length?v.map(k=>k.buildKeyframes()):[g2(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let a=t.subInstructions.get(t.element);if(a){let h=t.createSubContext(e.options),r=t.currentTimeline.currentTime,i=this._visitSubInstructions(a,h,h.options);r!=i&&t.transformIntoNewTimeline(i)}t.previousNode=e}visitAnimateRef(e,t){let a=t.createSubContext(e.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,a),this.visitReference(e.animation,a),t.transformIntoNewTimeline(a.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,a){for(let h of e){let r=h?.delay;if(r){let i=typeof r=="number"?r:N(p1(r,h?.params??{},t.errors));a.delayNextStep(i)}}}_visitSubInstructions(e,t,a){let r=t.currentTimeline.currentTime,i=a.duration!=null?N(a.duration):null,n=a.delay!=null?N(a.delay):null;return i!==0&&e.forEach(s=>{let d=t.appendInstructionToTimeline(s,i,n);r=Math.max(r,d.duration+d.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),P(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let a=t.subContextCount,h=t,r=e.options;if(r&&(r.params||r.delay)&&(h=t.createSubContext(r),h.transformIntoNewTimeline(),r.delay!=null)){h.previousNode.type==u.Style&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=H1);let i=N(r.delay);h.delayNextStep(i)}e.steps.length&&(e.steps.forEach(i=>P(this,i,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>a&&h.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let a=[],h=t.currentTimeline.currentTime,r=e.options&&e.options.delay?N(e.options.delay):0;e.steps.forEach(i=>{let n=t.createSubContext(e.options);r&&n.delayNextStep(r),P(this,i,n),h=Math.max(h,n.currentTimeline.currentTime),a.push(n.currentTimeline)}),a.forEach(i=>t.currentTimeline.mergeTimelineCollectedStyles(i)),t.transformIntoNewTimeline(h),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let a=e.strValue,h=t.params?p1(a,t.params,t.errors):a;return S1(h,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let a=t.currentAnimateTimings=this._visitTiming(e.timings,t),h=t.currentTimeline;a.delay&&(t.incrementTime(a.delay),h.snapshotCurrentStyles());let r=e.style;r.type==u.Keyframes?this.visitKeyframes(r,t):(t.incrementTime(a.duration),this.visitStyle(r,t),h.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let a=t.currentTimeline,h=t.currentAnimateTimings;!h&&a.hasCurrentStyleProperties()&&a.forwardFrame();let r=h&&h.easing||e.easing;e.isEmptyStep?a.applyEmptyStep(r):a.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let a=t.currentAnimateTimings,h=t.currentTimeline.duration,r=a.duration,n=t.createSubContext().currentTimeline;n.easing=a.easing,e.styles.forEach(s=>{let d=s.offset||0;n.forwardTime(d*r),n.setStyles(s.styles,s.easing,t.errors,t.options),n.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(n),t.transformIntoNewTimeline(h+r),t.previousNode=e}visitQuery(e,t){let a=t.currentTimeline.currentTime,h=e.options||{},r=h.delay?N(h.delay):0;r&&(t.previousNode.type===u.Style||a==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=H1);let i=a,n=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!h.optional,t.errors);t.currentQueryTotal=n.length;let s=null;n.forEach((d,c)=>{t.currentQueryIndex=c;let o=t.createSubContext(e.options,d);r&&o.delayNextStep(r),d===t.element&&(s=o.currentTimeline),P(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();let g=o.currentTimeline.currentTime;i=Math.max(i,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(i),s&&(t.currentTimeline.mergeTimelineCollectedStyles(s),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let a=t.parentContext,h=t.currentTimeline,r=e.timings,i=Math.abs(r.duration),n=i*(t.currentQueryTotal-1),s=i*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=n-s;break;case"full":s=a.currentStaggerTime;break}let c=t.currentTimeline;s&&c.delayNextStep(s);let o=c.currentTime;P(this,e.animation,t),t.previousNode=e,a.currentStaggerTime=h.currentTime-o+(h.startTime-a.currentTimeline.startTime)}},H1={},y2=class y{constructor(e,t,a,h,r,i,n,s){this._driver=e,this.element=t,this.subInstructions=a,this._enterClassName=h,this._leaveClassName=r,this.errors=i,this.timelines=n,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=H1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=s||new j1(this._driver,t,0),n.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let a=e,h=this.options;a.duration!=null&&(h.duration=N(a.duration)),a.delay!=null&&(h.delay=N(a.delay));let r=a.params;if(r){let i=h.params;i||(i=this.options.params={}),Object.keys(r).forEach(n=>{(!t||!i.hasOwnProperty(n))&&(i[n]=p1(r[n],i,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let a=e.params={};Object.keys(t).forEach(h=>{a[h]=t[h]})}}return e}createSubContext(e=null,t,a){let h=t||this.element,r=new y(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,a||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=H1,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,a){let h={duration:t??e.duration,delay:this.currentTimeline.currentTime+(a??0)+e.delay,easing:""},r=new r2(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,h,e.stretchStartingKeyframe);return this.timelines.push(r),h}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,a,h,r,i){let n=[];if(h&&n.push(this.element),e.length>0){e=e.replace(xt,"."+this._enterClassName),e=e.replace(bt,"."+this._leaveClassName);let s=a!=1,d=this._driver.query(this.element,e,s);a!==0&&(d=a<0?d.slice(d.length+a,d.length):d.slice(0,a)),n.push(...d)}return!r&&n.length==0&&i.push(De(t)),n}},j1=class y{constructor(e,t,a,h){this._driver=e,this.element=t,this.startTime=a,this._elementTimelineStylesLookup=h,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new y(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=gt,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,a]of this._globalTimelineStyles)this._backFill.set(t,a||B),this._currentKeyframe.set(t,B);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,a,h){t&&this._previousKeyframe.set("easing",t);let r=h&&h.params||{},i=qt(e,this._globalTimelineStyles);for(let[n,s]of i){let d=p1(s,r,a);this._pendingStyles.set(n,d),this._localTimelineStyles.has(n)||this._backFill.set(n,this._globalTimelineStyles.get(n)??B),this._updateStyle(n,d)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,a)=>{let h=this._styleSummary.get(a);(!h||t.time>h.time)&&this._updateStyle(a,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,a=this._keyframes.size===1&&this.duration===0,h=[];this._keyframes.forEach((n,s)=>{let d=new Map([...this._backFill,...n]);d.forEach((c,o)=>{c===g1?e.add(o):c===B&&t.add(o)}),a||d.set("offset",s/this.duration),h.push(d)});let r=[...e.values()],i=[...t.values()];if(a){let n=h[0],s=new Map(n);n.set("offset",0),s.set("offset",1),h=[n,s]}return g2(this.element,h,r,i,this.duration,this.startTime,this.easing,!1)}},r2=class extends j1{constructor(e,t,a,h,r,i,n=!1){super(e,t,i.delay),this.keyframes=a,this.preStyleProps=h,this.postStyleProps=r,this._stretchStartingKeyframe=n,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:a,easing:h}=this.timings;if(this._stretchStartingKeyframe&&t){let r=[],i=a+t,n=t/i,s=new Map(e[0]);s.set("offset",0),r.push(s);let d=new Map(e[0]);d.set("offset",K2(n)),r.push(d);let c=e.length-1;for(let o=1;o<=c;o++){let g=new Map(e[o]),v=g.get("offset"),k=t+v*a;g.set("offset",K2(k/i)),r.push(g)}a=i,t=0,h="",e=r}return g2(this.element,e,this.preStyleProps,this.postStyleProps,a,t,h,!0)}};function K2(y,e=3){let t=Math.pow(10,e-1);return Math.round(y*t)/t}function qt(y,e){let t=new Map,a;return y.forEach(h=>{if(h==="*"){a??=e.keys();for(let r of a)t.set(r,B)}else for(let[r,i]of h)t.set(r,i)}),t}function Q2(y,e,t,a,h,r,i,n,s,d,c,o,g){return{type:0,element:y,triggerName:e,isRemovalTransition:h,fromState:t,fromStyles:r,toState:a,toStyles:i,timelines:n,queriedElements:s,preStyleProps:d,postStyleProps:c,totalTime:o,errors:g}}var G1={},V1=class{constructor(e,t,a){this._triggerName=e,this.ast=t,this._stateStyles=a}match(e,t,a,h){return Ct(this.ast.matchers,e,t,a,h)}buildStyles(e,t,a){let h=this._stateStyles.get("*");return e!==void 0&&(h=this._stateStyles.get(e?.toString())||h),h?h.buildStyles(t,a):new Map}build(e,t,a,h,r,i,n,s,d,c){let o=[],g=this.ast.options&&this.ast.options.params||G1,v=n&&n.params||G1,k=this.buildStyles(a,v,o),m=s&&s.params||G1,w=this.buildStyles(h,m,o),q=new Set,C=new Map,H=new Map,z=h==="void",t1={params:ce(m,g),delay:this.ast.options?.delay},F=c?[]:oe(e,t,this.ast.animation,r,i,k,w,t1,d,o),j=0;return F.forEach(V=>{j=Math.max(V.duration+V.delay,j)}),o.length?Q2(t,this._triggerName,a,h,z,k,w,[],[],C,H,j,o):(F.forEach(V=>{let G=V.element,a1=T(C,G,new Set);V.preStyleProps.forEach(K=>a1.add(K));let f2=T(H,G,new Set);V.postStyleProps.forEach(K=>f2.add(K)),G!==t&&q.add(G)}),Q2(t,this._triggerName,a,h,z,k,w,F,[...q.values()],C,H,j))}};function Ct(y,e,t,a,h){return y.some(r=>r(e,t,a,h))}function ce(y,e){let t=h1({},e);return Object.entries(y).forEach(([a,h])=>{h!=null&&(t[a]=h)}),t}var i2=class{constructor(e,t,a){this.styles=e,this.defaultParams=t,this.normalizer=a}buildStyles(e,t){let a=new Map,h=ce(e,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((i,n)=>{i&&(i=p1(i,h,t));let s=this.normalizer.normalizePropertyName(n,t);i=this.normalizer.normalizeStyleValue(n,s,i,t),a.set(n,i)})}),a}};function St(y,e,t){return new n2(y,e,t)}var n2=class{constructor(e,t,a){this.name=e,this.ast=t,this._normalizer=a,this.transitionFactories=[],this.states=new Map,t.states.forEach(h=>{let r=h.options&&h.options.params||{};this.states.set(h.name,new i2(h.style,r,a))}),X2(this.states,"true","1"),X2(this.states,"false","0"),t.transitions.forEach(h=>{this.transitionFactories.push(new V1(e,h,this.states))}),this.fallbackTransition=zt(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,a,h){return this.transitionFactories.find(i=>i.match(e,t,a,h))||null}matchStyles(e,t,a){return this.fallbackTransition.buildStyles(e,t,a)}};function zt(y,e,t){let a=[(i,n)=>!0],h={type:u.Sequence,steps:[],options:null},r={type:u.Transition,animation:h,matchers:a,options:null,queryCount:0,depCount:0};return new V1(y,r,e)}function X2(y,e,t){y.has(e)?y.has(t)||y.set(t,y.get(e)):y.has(t)&&y.set(e,y.get(t))}var At=new k1,s2=class{constructor(e,t,a){this.bodyNode=e,this._driver=t,this._normalizer=a,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let a=[],h=[],r=de(this._driver,t,a,h);if(a.length)throw Ne(a);h.length&&void 0,this._animations.set(e,r)}_buildPlayer(e,t,a){let h=e.element,r=ae(this._normalizer,e.keyframes,t,a);return this._driver.animate(h,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,a={}){let h=[],r=this._animations.get(e),i,n=new Map;if(r?(i=oe(this._driver,t,r,ie,$1,new Map,new Map,a,At,h),i.forEach(c=>{let o=T(n,c.element,new Map);c.postStyleProps.forEach(g=>o.set(g,null))})):(h.push(Ze()),i=[]),h.length)throw Ie(h);n.forEach((c,o)=>{c.forEach((g,v)=>{c.set(v,this._driver.computeStyle(o,v,B))})});let s=i.map(c=>{let o=n.get(c.element);return this._buildPlayer(c,new Map,o)}),d=W(s);return this._playersById.set(e,d),d.onDestroy(()=>this.destroy(e)),this.players.push(d),d}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let a=this.players.indexOf(t);a>=0&&this.players.splice(a,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Ue(e);return t}listen(e,t,a,h){let r=l2(t,"","","");return k2(this._getPlayer(e),a,r,h),()=>{}}command(e,t,a,h){if(a=="register"){this.register(e,h[0]);return}if(a=="create"){let i=h[0]||{};this.create(e,t,i);return}let r=this._getPlayer(e);switch(a){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(e);break}}},$2="ng-animate-queued",Ht=".ng-animate-queued",K1="ng-animate-disabled",jt=".ng-animate-disabled",Vt="ng-star-inserted",Lt=".ng-star-inserted",Pt=[],pe={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Tt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},D="__ng_removed",l1=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let a=e&&e.hasOwnProperty("value"),h=a?e.value:e;if(this.value=Et(h),a){let r=e,{value:i}=r,n=C2(r,["value"]);this.options=n}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let a=this.options.params;Object.keys(t).forEach(h=>{a[h]==null&&(a[h]=t[h])})}}},c1="void",Q1=new l1(c1),d2=class{constructor(e,t,a){this.id=e,this.hostElement=t,this._engine=a,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,E(t,this._hostClassName)}listen(e,t,a,h){if(!this._triggers.has(t))throw We(a,t);if(a==null||a.length==0)throw Ge(t);if(!Dt(a))throw Ke(a,t);let r=T(this._elementListeners,e,[]),i={name:t,phase:a,callback:h};r.push(i);let n=T(this._engine.statesByElement,e,new Map);return n.has(t)||(E(e,f1),E(e,f1+"-"+t),n.set(t,Q1)),()=>{this._engine.afterFlush(()=>{let s=r.indexOf(i);s>=0&&r.splice(s,1),this._triggers.has(t)||n.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Qe(e);return t}trigger(e,t,a,h=!0){let r=this._getTrigger(t),i=new M1(this.id,t,e),n=this._engine.statesByElement.get(e);n||(E(e,f1),E(e,f1+"-"+t),this._engine.statesByElement.set(e,n=new Map));let s=n.get(t),d=new l1(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&s&&d.absorbOptions(s.options),n.set(t,d),s||(s=Q1),!(d.value===c1)&&s.value===d.value){if(!Bt(s.params,d.params)){let m=[],w=r.matchStyles(s.value,s.params,m),q=r.matchStyles(d.value,d.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{J(e,w),O(e,q)})}return}let g=T(this._engine.playersByElement,e,[]);g.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let v=r.matchTransition(s.value,d.value,e,d.params),k=!1;if(!v){if(!h)return;v=r.fallbackTransition,k=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:v,fromState:s,toState:d,player:i,isFallbackTransition:k}),k||(E(e,$2),i.onStart(()=>{r1(e,$2)})),i.onDone(()=>{let m=this.players.indexOf(i);m>=0&&this.players.splice(m,1);let w=this._engine.playersByElement.get(e);if(w){let q=w.indexOf(i);q>=0&&w.splice(q,1)}}),this.players.push(i),g.push(i),i}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,a)=>{this._elementListeners.set(a,t.filter(h=>h.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(a=>a.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let a=this._engine.driver.query(e,C1,!0);a.forEach(h=>{if(h[D])return;let r=this._engine.fetchNamespacesByElement(h);r.size?r.forEach(i=>i.triggerLeaveAnimation(h,t,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(e,t,a,h){let r=this._engine.statesByElement.get(e),i=new Map;if(r){let n=[];if(r.forEach((s,d)=>{if(i.set(d,s.value),this._triggers.has(d)){let c=this.trigger(e,d,c1,h);c&&n.push(c)}}),n.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,i),a&&W(n).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),a=this._engine.statesByElement.get(e);if(t&&a){let h=new Set;t.forEach(r=>{let i=r.name;if(h.has(i))return;h.add(i);let s=this._triggers.get(i).fallbackTransition,d=a.get(i)||Q1,c=new l1(c1),o=new M1(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:d,toState:c,player:o,isFallbackTransition:!0})})}}removeNode(e,t){let a=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let h=!1;if(a.totalAnimations){let r=a.players.length?a.playersByQueriedElement.get(e):[];if(r&&r.length)h=!0;else{let i=e;for(;i=i.parentNode;)if(a.statesByElement.get(i)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(e),h)a.markElementAsRemoved(this.id,e,!1,t);else{let r=e[D];(!r||r===pe)&&(a.afterFlush(()=>this.clearElementCache(e)),a.destroyInnerAnimations(e),a._onRemovalComplete(e,t))}}insertNode(e,t){E(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(a=>{let h=a.player;if(h.destroyed)return;let r=a.element,i=this._elementListeners.get(r);i&&i.forEach(n=>{if(n.name==a.triggerName){let s=l2(r,a.triggerName,a.fromState.value,a.toState.value);s._data=e,k2(a.player,n.phase,s,n.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):t.push(a)}),this._queue=[],t.sort((a,h)=>{let r=a.transition.ast.depCount,i=h.transition.ast.depCount;return r==0||i==0?r-i:this._engine.driver.containsElement(a.element,h.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},o2=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,a){this.bodyNode=e,this.driver=t,this._normalizer=a,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,r)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(a=>{a.queued&&e.push(a)})}),e}createNamespace(e,t){let a=new d2(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(a,t):(this.newHostElements.set(t,a),this.collectEnterElement(t)),this._namespaceLookup[e]=a}_balanceNamespaceList(e,t){let a=this._namespaceList,h=this.namespacesByHostElement;if(a.length-1>=0){let i=!1,n=this.driver.getParentElement(t);for(;n;){let s=h.get(n);if(s){let d=a.indexOf(s);a.splice(d+1,0,e),i=!0;break}n=this.driver.getParentElement(n)}i||a.unshift(e)}else a.push(e);return h.set(t,e),e}register(e,t){let a=this._namespaceLookup[e];return a||(a=this.createNamespace(e,t)),a}registerTrigger(e,t,a){let h=this._namespaceLookup[e];h&&h.register(t,a)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let a=this._fetchNamespace(e);this.namespacesByHostElement.delete(a.hostElement);let h=this._namespaceList.indexOf(a);h>=0&&this._namespaceList.splice(h,1),a.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,a=this.statesByElement.get(e);if(a){for(let h of a.values())if(h.namespaceId){let r=this._fetchNamespace(h.namespaceId);r&&t.add(r)}}return t}trigger(e,t,a,h){if(b1(t)){let r=this._fetchNamespace(e);if(r)return r.trigger(t,a,h),!0}return!1}insertNode(e,t,a,h){if(!b1(t))return;let r=t[D];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let i=this.collectedLeaveElements.indexOf(t);i>=0&&this.collectedLeaveElements.splice(i,1)}if(e){let i=this._fetchNamespace(e);i&&i.insertNode(t,a)}h&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),E(e,K1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),r1(e,K1))}removeNode(e,t,a){if(b1(t)){let h=e?this._fetchNamespace(e):null;h?h.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a);let r=this.namespacesByHostElement.get(t);r&&r.id!==e&&r.removeNode(t,a)}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,a,h,r){this.collectedLeaveElements.push(t),t[D]={namespaceId:e,setForRemoval:h,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:r}}listen(e,t,a,h,r){return b1(t)?this._fetchNamespace(e).listen(t,a,h,r):()=>{}}_buildInstruction(e,t,a,h,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,a,h,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,C1,!0);t.forEach(a=>this.destroyActiveAnimationsForElement(a)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,J1,!0),t.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return W(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[D];if(t&&t.setForRemoval){if(e[D]=pe,t.namespaceId){this.destroyInnerAnimations(e);let a=this._fetchNamespace(t.namespaceId);a&&a.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(K1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,jt,!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,h)=>this._balanceNamespaceList(a,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++){let h=this.collectedEnterElements[a];E(h,Vt)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let a=[];try{t=this._flushAnimations(a,e)}finally{for(let h=0;h<a.length;h++)a[h]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++){let h=this.collectedLeaveElements[a];this.processLeaveNode(h)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){let a=this._whenQuietFns;this._whenQuietFns=[],t.length?W(t).onDone(()=>{a.forEach(h=>h())}):a.forEach(h=>h())}}reportError(e){throw Xe(e)}_flushAnimations(e,t){let a=new k1,h=[],r=new Map,i=[],n=new Map,s=new Map,d=new Map,c=new Set;this.disabledNodes.forEach(p=>{c.add(p);let l=this.driver.query(p,Ht,!0);for(let M=0;M<l.length;M++)c.add(l[M])});let o=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=ee(g,this.collectedEnterElements),k=new Map,m=0;v.forEach((p,l)=>{let M=ie+m++;k.set(l,M),p.forEach(f=>E(f,M))});let w=[],q=new Set,C=new Set;for(let p=0;p<this.collectedLeaveElements.length;p++){let l=this.collectedLeaveElements[p],M=l[D];M&&M.setForRemoval&&(w.push(l),q.add(l),M.hasAnimation?this.driver.query(l,Lt,!0).forEach(f=>q.add(f)):C.add(l))}let H=new Map,z=ee(g,Array.from(q));z.forEach((p,l)=>{let M=$1+m++;H.set(l,M),p.forEach(f=>E(f,M))}),e.push(()=>{v.forEach((p,l)=>{let M=k.get(l);p.forEach(f=>r1(f,M))}),z.forEach((p,l)=>{let M=H.get(l);p.forEach(f=>r1(f,M))}),w.forEach(p=>{this.processLeaveNode(p)})});let t1=[],F=[];for(let p=this._namespaceList.length-1;p>=0;p--)this._namespaceList[p].drainQueuedTransitions(t).forEach(M=>{let f=M.player,S=M.element;if(t1.push(f),this.collectedEnterElements.length){let A=S[D];if(A&&A.setForMove){if(A.previousTriggersValues&&A.previousTriggersValues.has(M.triggerName)){let Q=A.previousTriggersValues.get(M.triggerName),_=this.statesByElement.get(M.element);if(_&&_.has(M.triggerName)){let m1=_.get(M.triggerName);m1.value=Q,_.set(M.triggerName,m1)}}f.destroy();return}}let R=!o||!this.driver.containsElement(o,S),L=H.get(S),Z=k.get(S),b=this._buildInstruction(M,a,Z,L,R);if(b.errors&&b.errors.length){F.push(b);return}if(R){f.onStart(()=>J(S,b.fromStyles)),f.onDestroy(()=>O(S,b.toStyles)),h.push(f);return}if(M.isFallbackTransition){f.onStart(()=>J(S,b.fromStyles)),f.onDestroy(()=>O(S,b.toStyles)),h.push(f);return}let b2=[];b.timelines.forEach(A=>{A.stretchStartingKeyframe=!0,this.disabledNodes.has(A.element)||b2.push(A)}),b.timelines=b2,a.append(S,b.timelines);let me={instruction:b,player:f,element:S};i.push(me),b.queriedElements.forEach(A=>T(n,A,[]).push(f)),b.preStyleProps.forEach((A,Q)=>{if(A.size){let _=s.get(Q);_||s.set(Q,_=new Set),A.forEach((m1,D1)=>_.add(D1))}}),b.postStyleProps.forEach((A,Q)=>{let _=d.get(Q);_||d.set(Q,_=new Set),A.forEach((m1,D1)=>_.add(D1))})});if(F.length){let p=[];F.forEach(l=>{p.push($e(l.triggerName,l.errors))}),t1.forEach(l=>l.destroy()),this.reportError(p)}let j=new Map,V=new Map;i.forEach(p=>{let l=p.element;a.has(l)&&(V.set(l,l),this._beforeAnimationBuild(p.player.namespaceId,p.instruction,j))}),h.forEach(p=>{let l=p.element;this._getPreviousPlayers(l,!1,p.namespaceId,p.triggerName,null).forEach(f=>{T(j,l,[]).push(f),f.destroy()})});let G=w.filter(p=>te(p,s,d)),a1=new Map;Y2(a1,this.driver,C,d,B).forEach(p=>{te(p,s,d)&&G.push(p)});let K=new Map;v.forEach((p,l)=>{Y2(K,this.driver,new Set(p),s,g1)}),G.forEach(p=>{let l=a1.get(p),M=K.get(p);a1.set(p,new Map([...l?.entries()??[],...M?.entries()??[]]))});let E1=[],x2=[],w2={};i.forEach(p=>{let{element:l,player:M,instruction:f}=p;if(a.has(l)){if(c.has(l)){M.onDestroy(()=>O(l,f.toStyles)),M.disabled=!0,M.overrideTotalTime(f.totalTime),h.push(M);return}let S=w2;if(V.size>1){let L=l,Z=[];for(;L=L.parentNode;){let b=V.get(L);if(b){S=b;break}Z.push(L)}Z.forEach(b=>V.set(b,S))}let R=this._buildAnimation(M.namespaceId,f,j,r,K,a1);if(M.setRealPlayer(R),S===w2)E1.push(M);else{let L=this.playersByElement.get(S);L&&L.length&&(M.parentPlayer=W(L)),h.push(M)}}else J(l,f.fromStyles),M.onDestroy(()=>O(l,f.toStyles)),x2.push(M),c.has(l)&&h.push(M)}),x2.forEach(p=>{let l=r.get(p.element);if(l&&l.length){let M=W(l);p.setRealPlayer(M)}}),h.forEach(p=>{p.parentPlayer?p.syncPlayerEvents(p.parentPlayer):p.destroy()});for(let p=0;p<w.length;p++){let l=w[p],M=l[D];if(r1(l,$1),M&&M.hasAnimation)continue;let f=[];if(n.size){let R=n.get(l);R&&R.length&&f.push(...R);let L=this.driver.query(l,J1,!0);for(let Z=0;Z<L.length;Z++){let b=n.get(L[Z]);b&&b.length&&f.push(...b)}}let S=f.filter(R=>!R.destroyed);S.length?Ft(this,l,S):this.processLeaveNode(l)}return w.length=0,E1.forEach(p=>{this.players.push(p),p.onDone(()=>{p.destroy();let l=this.players.indexOf(p);this.players.splice(l,1)}),p.play()}),E1}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,a,h,r){let i=[];if(t){let n=this.playersByQueriedElement.get(e);n&&(i=n)}else{let n=this.playersByElement.get(e);if(n){let s=!r||r==c1;n.forEach(d=>{d.queued||!s&&d.triggerName!=h||i.push(d)})}}return(a||h)&&(i=i.filter(n=>!(a&&a!=n.namespaceId||h&&h!=n.triggerName))),i}_beforeAnimationBuild(e,t,a){let h=t.triggerName,r=t.element,i=t.isRemovalTransition?void 0:e,n=t.isRemovalTransition?void 0:h;for(let s of t.timelines){let d=s.element,c=d!==r,o=T(a,d,[]);this._getPreviousPlayers(d,c,i,n,t.toState).forEach(v=>{let k=v.getRealPlayer();k.beforeDestroy&&k.beforeDestroy(),v.destroy(),o.push(v)})}J(r,t.fromStyles)}_buildAnimation(e,t,a,h,r,i){let n=t.triggerName,s=t.element,d=[],c=new Set,o=new Set,g=t.timelines.map(k=>{let m=k.element;c.add(m);let w=m[D];if(w&&w.removedBeforeQueried)return new U(k.duration,k.delay);let q=m!==s,C=Rt((a.get(m)||Pt).map(j=>j.getRealPlayer())).filter(j=>{let V=j;return V.element?V.element===m:!1}),H=r.get(m),z=i.get(m),t1=ae(this._normalizer,k.keyframes,H,z),F=this._buildPlayer(k,t1,C);if(k.subTimeline&&h&&o.add(m),q){let j=new M1(e,n,m);j.setRealPlayer(F),d.push(j)}return F});d.forEach(k=>{T(this.playersByQueriedElement,k.element,[]).push(k),k.onDone(()=>_t(this.playersByQueriedElement,k.element,k))}),c.forEach(k=>E(k,U2));let v=W(g);return v.onDestroy(()=>{c.forEach(k=>r1(k,U2)),O(s,t.toStyles)}),o.forEach(k=>{T(h,k,[]).push(v)}),v}_buildPlayer(e,t,a){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,a):new U(e.duration,e.delay)}},M1=class{constructor(e,t,a){this.namespaceId=e,this.triggerName=t,this.element=a,this._player=new U,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,a)=>{t.forEach(h=>k2(e,a,void 0,h))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){T(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function _t(y,e,t){let a=y.get(e);if(a){if(a.length){let h=a.indexOf(t);a.splice(h,1)}a.length==0&&y.delete(e)}return a}function Et(y){return y??null}function b1(y){return y&&y.nodeType===1}function Dt(y){return y=="start"||y=="done"}function J2(y,e){let t=y.style.display;return y.style.display=e??"none",t}function Y2(y,e,t,a,h){let r=[];t.forEach(s=>r.push(J2(s)));let i=[];a.forEach((s,d)=>{let c=new Map;s.forEach(o=>{let g=e.computeStyle(d,o,h);c.set(o,g),(!g||g.length==0)&&(d[D]=Tt,i.push(d))}),y.set(d,c)});let n=0;return t.forEach(s=>J2(s,r[n++])),i}function ee(y,e){let t=new Map;if(y.forEach(n=>t.set(n,[])),e.length==0)return t;let a=1,h=new Set(e),r=new Map;function i(n){if(!n)return a;let s=r.get(n);if(s)return s;let d=n.parentNode;return t.has(d)?s=d:h.has(d)?s=a:s=i(d),r.set(n,s),s}return e.forEach(n=>{let s=i(n);s!==a&&t.get(s).push(n)}),t}function E(y,e){y.classList?.add(e)}function r1(y,e){y.classList?.remove(e)}function Ft(y,e,t){W(t).onDone(()=>y.processLeaveNode(e))}function Rt(y){let e=[];return ke(y,e),e}function ke(y,e){for(let t=0;t<y.length;t++){let a=y[t];a instanceof d1?ke(a.players,e):e.push(a)}}function Bt(y,e){let t=Object.keys(y),a=Object.keys(e);if(t.length!=a.length)return!1;for(let h=0;h<t.length;h++){let r=t[h];if(!e.hasOwnProperty(r)||y[r]!==e[r])return!1}return!0}function te(y,e,t){let a=t.get(y);if(!a)return!1;let h=e.get(y);return h?a.forEach(r=>h.add(r)):e.set(y,a),t.delete(y),!0}var i1=class{constructor(e,t,a){this._driver=t,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(h,r)=>{},this._transitionEngine=new o2(e.body,t,a),this._timelineEngine=new s2(e.body,t,a),this._transitionEngine.onRemovalComplete=(h,r)=>this.onRemovalComplete(h,r)}registerTrigger(e,t,a,h,r){let i=e+"-"+h,n=this._triggerCache[i];if(!n){let s=[],d=[],c=de(this._driver,r,s,d);if(s.length)throw Be(h,s);d.length&&void 0,n=St(h,c,this._normalizer),this._triggerCache[i]=n}this._transitionEngine.registerTrigger(t,h,n)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,a,h){this._transitionEngine.insertNode(e,t,a,h)}onRemove(e,t,a){this._transitionEngine.removeNode(e,t,a)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,a,h){if(a.charAt(0)=="@"){let[r,i]=Z2(a),n=h;this._timelineEngine.command(r,t,i,n)}else this._transitionEngine.trigger(e,t,a,h)}listen(e,t,a,h,r){if(a.charAt(0)=="@"){let[i,n]=Z2(a);return this._timelineEngine.listen(i,t,n,r)}return this._transitionEngine.listen(e,t,a,h,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Ot(y,e){let t=null,a=null;return Array.isArray(e)&&e.length?(t=X1(e[0]),e.length>1&&(a=X1(e[e.length-1]))):e instanceof Map&&(t=X1(e)),t||a?new c2(y,t,a):null}var c2=class y{static{this.initialStylesByElement=new WeakMap}constructor(e,t,a){this._element=e,this._startStyles=t,this._endStyles=a,this._state=0;let h=y.initialStylesByElement.get(e);h||y.initialStylesByElement.set(e,h=new Map),this._initialStyles=h}start(){this._state<1&&(this._startStyles&&O(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(O(this._element,this._initialStyles),this._endStyles&&(O(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(J(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(J(this._element,this._endStyles),this._endStyles=null),O(this._element,this._initialStyles),this._state=3)}};function X1(y){let e=null;return y.forEach((t,a)=>{Nt(a)&&(e=e||new Map,e.set(a,t))}),e}function Nt(y){return y==="display"||y==="position"}var L1=class{constructor(e,t,a,h){this.element=e,this.keyframes=t,this.options=a,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(a=>{t.push(Object.fromEntries(a))}),t}_triggerWebAnimation(e,t,a){return e.animate(this._convertKeyframesToObject(t),a)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,h)=>{h!=="offset"&&e.set(h,this._finished?a:v2(this.element,h))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(a=>a()),t.length=0}},P1=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return he(e,t)}getParentElement(e){return M2(e)}query(e,t,a){return ye(e,t,a)}computeStyle(e,t,a){return v2(e,t)}animate(e,t,a,h,r,i=[]){let n=h==0?"both":"forwards",s={duration:a,delay:h,fill:n};r&&(s.easing=r);let d=new Map,c=i.filter(v=>v instanceof L1);st(a,h)&&c.forEach(v=>{v.currentSnapshot.forEach((k,m)=>d.set(m,k))});let o=rt(t).map(v=>new Map(v));o=dt(e,o,d);let g=Ot(e,o);return new L1(e,o,s,g)}};var q1="@",le="@.disabled",T1=class{constructor(e,t,a,h){this.namespaceId=e,this.delegate=t,this.engine=a,this._onDestroy=h,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,a,h=!0){this.delegate.insertBefore(e,t,a),this.engine.onInsert(this.namespaceId,t,e,h)}removeChild(e,t,a){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,a,h){this.delegate.setAttribute(e,t,a,h)}removeAttribute(e,t,a){this.delegate.removeAttribute(e,t,a)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,a,h){this.delegate.setStyle(e,t,a,h)}removeStyle(e,t,a){this.delegate.removeStyle(e,t,a)}setProperty(e,t,a){t.charAt(0)==q1&&t==le?this.disableAnimations(e,!!a):this.delegate.setProperty(e,t,a)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,a){return this.delegate.listen(e,t,a)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},p2=class extends T1{constructor(e,t,a,h,r){super(t,a,h,r),this.factory=e,this.namespaceId=t}setProperty(e,t,a){t.charAt(0)==q1?t.charAt(1)=="."&&t==le?(a=a===void 0?!0:!!a,this.disableAnimations(e,a)):this.engine.process(this.namespaceId,e,t.slice(1),a):this.delegate.setProperty(e,t,a)}listen(e,t,a){if(t.charAt(0)==q1){let h=Zt(e),r=t.slice(1),i="";return r.charAt(0)!=q1&&([r,i]=It(r)),this.engine.listen(this.namespaceId,h,r,i,n=>{let s=n._data||-1;this.factory.scheduleListenerCallback(s,a,n)})}return this.delegate.listen(e,t,a)}};function Zt(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}function It(y){let e=y.indexOf("."),t=y.substring(0,e),a=y.slice(e+1);return[t,a]}var _1=class{constructor(e,t,a){this.delegate=e,this.engine=t,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(h,r)=>{let i=r?.parentNode(h);i&&r.removeChild(i,h)}}createRenderer(e,t){let a="",h=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let d=this._rendererCache,c=d.get(h);if(!c){let o=()=>d.delete(h);c=new T1(a,h,this.engine,o),d.set(h,c)}return c}let r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);let n=d=>{Array.isArray(d)?d.forEach(n):this.engine.registerTrigger(r,i,e,d.name,d)};return t.data.animation.forEach(n),new p2(this,i,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,a){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(a));return}let h=this._animationCallbacksBuffer;h.length==0&&queueMicrotask(()=>{this._zone.run(()=>{h.forEach(r=>{let[i,n]=r;i(n)}),this._animationCallbacksBuffer=[]})}),h.push([t,a])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Wt=(()=>{class y extends i1{constructor(t,a,h){super(t,a,h)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(a){return new(a||y)(u1(R2),u1(Y),u1(e1))}}static{this.\u0275prov=I({token:y,factory:y.\u0275fac})}}return y})();function Gt(){return new z1}function Kt(y,e,t){return new _1(y,e,t)}var Me=[{provide:e1,useFactory:Gt},{provide:i1,useClass:Wt},{provide:V2,useFactory:Kt,deps:[B2,i1,T2]}],Qt=[{provide:Y,useFactory:()=>new P1},{provide:v1,useValue:"BrowserAnimations"},...Me],T0=[{provide:Y,useClass:m2},{provide:v1,useValue:"NoopAnimations"},...Me];function _0(){return P2("NgEagerAnimations"),[...Qt]}export{m0 as a,u0 as b,v0 as c,I1 as d,g0 as e,f0 as f,_0 as g,a0 as h,h0 as i,y0 as j,r0 as k,i0 as l,n0 as m,s0 as n,d0 as o,l0 as p};
